# -*-sh-*-

export XDG_CONFIG_HOME="${XDG_CONFIG_HOME:-$HOME/.config}"
export ZDOTDIR=$XDG_CONFIG_HOME/zsh

# TODO(eljobe): Move to some file that only exists at work.
if [ $(uname) = "Darwin" ]; then
    export MACOSX_DEPLOYMENT_TARGET=$(sw_vers -productVersion)
    export CGO_LDFLAGS=-Wl,-no_warn_duplicate_libraries
fi

# Cargo is rust's wrapper and package manager.
if [ -f "$HOME/.cargo/env" ]; then
    source "$HOME/.cargo/env"
fi

# Foundry is a bunch of tools for use with ethereum development.
foundrydir="$XDG_CONFIG_HOME/.foundry"
if [ -d "$foundrydir" ]; then
    if [[ ":$PATH:" != *"${foundrydir}/bin"* ]]; then
	PATH=${PATH+$PATH:}${foundrydir}/bin
    fi
fi
unset foundrydir

# Append my bin directory if it is not on the $PATH.
if [[ ":$PATH:" != *":$HOME/bin:"* ]]; then
    PATH=${PATH+$PATH:}$HOME/bin;
fi
